(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){(function(global){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.Gauge=void 0;typeof window!=="undefined"?window["d3"]:typeof global!=="undefined"?global["d3"]:null;function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}var Gauge=function(){function Gauge(configuration){var _this=this;_classCallCheck(this,Gauge);this.config={height:200,width:200,margin:10,minValue:0,maxValue:10,majorTicks:5,lowThreshhold:.2,lowMidThreshhold:.4,highMidThreshhold:.6,highThreshhold:.8,lowThreshholdColor:"#f02828",lowMidThreshholdColor:"#fe6a00",defaultColor:"#e8dd11",highMidThreshholdColor:"#82e042",highThreshholdColor:"#089f50",container:"",transitionMs:500};this.config=Object.assign(this.config,configuration);this.margin={top:this.config.height*.1,right:this.config.width*.05,bottom:this.config.height*-.05,left:this.config.width*.05};this.mheight=this.config.height-this.margin.top-this.margin.bottom;this.mwidth=this.config.height*2-this.margin.left-this.margin.right;this.arcPadding=this.mwidth*.075;this.arcWidth=this.mwidth*.1;this.labelInset=this.mwidth*.05;var pointerWidth=this.mwidth*.025;var pointerTailLength=this.mwidth*.025;var pointerHeadLength=this.mwidth*.4;this.lineData=[[pointerWidth,0],[0,-pointerHeadLength],[-pointerWidth,0],[0,pointerTailLength],[pointerWidth,0]];this.minAngle=-90,this.maxAngle=90,this.angleRange=this.maxAngle-this.minAngle;this.scale=d3.scaleLinear().range([0,1]).domain([this.config.minValue,this.config.maxValue]);var colorDomain=[(this.config.maxValue-this.config.minValue)*this.config.lowThreshhold,(this.config.maxValue-this.config.minValue)*this.config.lowMidThreshhold,(this.config.maxValue-this.config.minValue)*this.config.highMidThreshhold,(this.config.maxValue-this.config.minValue)*this.config.highThreshhold].map(this.scale);var colorRange=[this.config.lowThreshholdColor,this.config.lowMidThreshholdColor,this.config.defaultColor,this.config.highMidThreshholdColor,this.config.highThreshholdColor];this.colorScale=d3.scaleThreshold().domain(colorDomain).range(colorRange);this.ticks=[this.config.minValue,(this.config.maxValue-this.config.minValue)*this.config.lowThreshhold,(this.config.maxValue-this.config.minValue)*this.config.lowMidThreshhold,(this.config.maxValue-this.config.minValue)*this.config.highMidThreshhold,(this.config.maxValue-this.config.minValue)*this.config.highThreshhold,this.config.maxValue];this.threshholds=[this.config.minValue,(this.config.maxValue-this.config.minValue)*this.config.lowThreshhold,(this.config.maxValue-this.config.minValue)*this.config.lowMidThreshhold,(this.config.maxValue-this.config.minValue)*this.config.highMidThreshhold,(this.config.maxValue-this.config.minValue)*this.config.highThreshhold,this.config.maxValue].map(function(d){return _this.scale(d)});this.scale=d3.scaleLinear().range([0,1]).domain([this.config.minValue,this.config.maxValue]);this.arc=d3.arc().innerRadius(this._radius()-this.arcWidth-this.arcPadding).outerRadius(this._radius()-this.arcPadding).startAngle(function(d,i){var ratio=i>0?_this.threshholds[i-1]:_this.threshholds[0];return _this._deg2rad(_this.minAngle+ratio*_this.angleRange)}).endAngle(function(d,i){return _this._deg2rad(_this.minAngle+_this.threshholds[i]*_this.angleRange)})}_createClass(Gauge,[{key:"_radius",value:function _radius(){return this.mwidth*.5}},{key:"_deg2rad",value:function _deg2rad(deg){return deg*Math.PI/180}},{key:"render",value:function render(newValue){var _this2=this;var svg=d3.select(this.config.container).append("svg").attr("class","gauge").attr("width",this.mwidth).attr("height",this.mheight);var arcs=svg.append("g").attr("class","arc").attr("transform","translate(".concat(this._radius(),", ").concat(this._radius(),")"));arcs.selectAll("path").data(this.threshholds).enter().append("path").attr("fill",function(d){return _this2.colorScale(d-.001)}).attr("d",this.arc);svg.append("g").attr("class","label").attr("transform","translate(".concat(this._radius(),",").concat(this._radius(),")"));this._displayLabel();var pg=svg.append("g").data([this.lineData]).attr("class","pointer").attr("transform","translate(".concat(this._radius(),",").concat(this._radius(),")"));var arc=d3.arc().innerRadius(this.mwidth*.03).outerRadius(0).startAngle(0).endAngle(2*Math.PI);var pointer=pg.append("path").attr("d",d3.line()).attr("transform","rotate(".concat(this.minAngle,")"));var arc_pointer=pg.append("path").attr("class","arc_pointer").attr("d",arc).attr("transform","rotate(".concat(this.minAngle,")"));var numberDiv=d3.select(this.config.container).append("div").attr("class","number-div").style("width","".concat(this.mwidth,"px"));var numberUnit=numberDiv.append("span").attr("class","number-unit").html(function(d){return _this2.config.displayUnit});var numberValue=numberDiv.append("span").data([newValue]).attr("class","number-value").text(function(d){return d===undefined?0:d});this.pointer=pointer;this.numberValue=numberValue}},{key:"_displayLabel",value:function _displayLabel(){var _this3=this;$(this.config.container+" .gauge .label").empty();var lg=d3.select(this.config.container+" .label");lg.selectAll("text").data(this.ticks).enter().append("text").attr("transform",function(d){var newAngle=_this3.minAngle+_this3.scale(d)*_this3.angleRange;return"rotate(".concat(newAngle,") translate(0, ").concat(_this3.labelInset-_this3._radius(),")")}).text(d3.format("1.0f"));lg.selectAll("line").data(this.ticks).enter().append("line").attr("class","tickline").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",this.arcWidth+this.labelInset).attr("stroke-width",this.mwidth*.015).attr("transform",function(d){var newAngle=_this3.minAngle+_this3.scale(d)*_this3.angleRange;return"rotate(".concat(newAngle,"), translate(0, ").concat(_this3.arcWidth-_this3.labelInset-_this3._radius(),")")})}},{key:"update",value:function update(newValue,maxValue){var value=newValue;if(!maxValue)this.config.maxValue=maxValue;if(!newValue)value=0;this.ticks=[this.config.minValue,(this.config.maxValue-this.config.minValue)*this.config.lowThreshhold,(this.config.maxValue-this.config.minValue)*this.config.lowMidThreshhold,(this.config.maxValue-this.config.minValue)*this.config.highMidThreshhold,(this.config.maxValue-this.config.minValue)*this.config.highThreshhold,this.config.maxValue];this.scale=d3.scaleLinear().range([0,1]).domain([this.config.minValue,this.config.maxValue]);this._displayLabel();var newAngle=this.minAngle+this.scale(value)*this.angleRange;this.pointer.transition().duration(this.config.transitionMs).attr("transform","rotate(".concat(newAngle,")"));if(value===0){this.numberValue.transition().duration(this.config.transitionMs).style("color","black").text("ND")}else{if(this.numberValue.text()==="ND")this.numberValue.text(0);this.numberValue.data([value]).transition().duration(this.config.transitionMs).style("color",this.colorScale(this.scale(value))).tween("",function(d){var interpolator=d3.interpolate(this.textContent,d);var that=this;return function(t){that.textContent=interpolator(t).toFixed(1)}})}}}]);return Gauge}();exports.Gauge=Gauge}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],2:[function(require,module,exports){(function(global){"use strict";function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}Object.defineProperty(exports,"__esModule",{value:true});exports.GraphDonut=void 0;var d3=_interopRequireWildcard(typeof window!=="undefined"?window["d3"]:typeof global!=="undefined"?global["d3"]:null);function _getRequireWildcardCache(){if(typeof WeakMap!=="function")return null;var cache=new WeakMap;_getRequireWildcardCache=function _getRequireWildcardCache(){return cache};return cache}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{default:obj}}var cache=_getRequireWildcardCache();if(cache&&cache.has(obj)){return cache.get(obj)}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj)}return newObj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}var GraphDonut=function(){function GraphDonut(configuration){_classCallCheck(this,GraphDonut);var config={height:200,width:200,margin:10,minValue:0,maxValue:"",majorTicks:5,color:["#5496c4","#ffd24d","#a29cc9","#f96353","#6cc6b7","#fcac4f","#a0d643","#f99fcd","#b068b1","#b3b3b3"],transitionMs:1e3,displayUnit:"Value",container:"",title:"",xLabel:"",yLabel:"",value:"",legend:"",yDomain:"",marginLeft:0,colorText:["#000"]};this.config=Object.assign(config,configuration);this.margin={top:this.config.height*.05,right:this.config.width*0,bottom:this.config.height*.05,left:this.config.width*this.config.marginLeft};this.mheight=this.config.height-this.margin.top-this.margin.bottom;this.mwidth=this.config.width-this.margin.left-this.margin.right;this.radius=Math.min(this.mwidth,this.mheight)/2;this.svg=d3.select(this.config.container).append("svg").attr("width",this.config.width).attr("height",this.config.height);this.g=this.svg.append("g");this.g.append("g").attr("class","slices");this.g.append("g").attr("class","labels");this.g.append("g").attr("class","lines");this.g.attr("transform","translate("+this.mwidth/2+","+(this.mheight/2+this.margin.top)+")");var svgLegend=d3.select(this.config.container+"Legend").append("svg").attr("width",this.mwidth).attr("height",this.mheight*.3);svgLegend.append("g").attr("class","legend").attr("transform","translate("+this.mwidth*.1+", "+0+")");var colorScale=d3.scaleOrdinal().domain(this.config.legend).range(this.config.color);var legendColor=d3.legendColor().scale(colorScale).shapeWidth(70).shapeHeight(7).orient("horizontal").labelAlign("start").labelWrap(30);svgLegend.select(".legend").call(legendColor)}_createClass(GraphDonut,[{key:"update",value:function update(response){var _this=this;var pie=d3.pie().sort(null).value(function(d){return d.value});var radius=this.radius;var arc=d3.arc().outerRadius(this.radius*1).innerRadius(this.radius*.5);var outerArc=d3.arc().innerRadius(this.radius*.75).outerRadius(this.radius*.75);var outerArc2=d3.arc().innerRadius(this.radius*.9).outerRadius(this.radius*.9);var slice=this.svg.select(".slices").selectAll("path.slice").data(pie(response));slice.enter().insert("path").style("fill",function(d,i){return _this.config.color[i]}).style("opacity","1.0").attr("class","slice").transition().duration(1e3).attrTween("d",function(d){this._current={endAngle:Math.PI,index:0,padAngle:90,startAngle:Math.PI,value:null};var interpolate=d3.interpolate(this._current,d);this._current=interpolate(0);return function(t){return arc(interpolate(t))}});slice.transition().duration(1e3).attrTween("d",function(d){this._current=this._current||d;var interpolate=d3.interpolate(this._current,d);this._current=interpolate(0);return function(t){return arc(interpolate(t))}});slice.exit().transition().duration(1e3).attrTween("d",function(d){this._current=this._current||d;var dest={endAngle:this._current.endAngle,index:0,padAngle:0,startAngle:this._current.endAngle,value:null};var interpolate=d3.interpolate(this._current,dest);this._current=interpolate(0);return function(t){return arc(interpolate(t))}}).remove();var texts=this.g.selectAll("text").data(pie(response));texts.enter().append("text").text(function(d){return d.data.key}).attr("class","label").attr("font-family","sans-serif").attr("font-size","20px").attr("fill","#222").text(function(d){if(d.value!==0){return d3.format(".0%")(d.value/100)}}).attr("transform",function(d){var pos=outerArc.centroid(d);if(d.value<6){pos=outerArc2.centroid(d);var midangle=d.startAngle+(d.endAngle-d.startAngle)/2;pos[0]=radius*.99*(midangle<Math.PI?1:-1)}return"translate("+pos+")"}).style("text-anchor",function(d){if(d.value<6){var midangle=d.startAngle+(d.endAngle-d.startAngle)/2;return midangle<Math.PI?"start":"end"}else{return"middle"}});texts.transition().duration(500).text(function(d){if(d.value!==0){return d3.format(".0%")(d.value/100)}}).attr("transform",function(d){var pos=outerArc.centroid(d);if(d.value<6){pos=outerArc2.centroid(d);var midangle=d.startAngle+(d.endAngle-d.startAngle)/2;pos[0]=radius*.99*(midangle<Math.PI?1:-1)}return"translate("+pos+")"}).style("text-anchor",function(d){if(d.value<6){var midangle=d.startAngle+(d.endAngle-d.startAngle)/2;return midangle<Math.PI?"start":"end"}else{return"middle"}});texts.exit().transition().duration(500).remove();var polylines=this.g.selectAll("polyline").data(pie(response));polylines.enter().append("polyline").attr("stroke","#222").style("fill","none").attr("stroke-width",1).attr("points",function(d){if(d.value<6&&d.value>0){var posA=arc.centroid(d);var posB=outerArc2.centroid(d);var posC=outerArc2.centroid(d);var midangle=d.startAngle+(d.endAngle-d.startAngle)/2;posC[0]=radius*.95*(midangle<Math.PI?1:-1);return[posA,posB,posC]}});polylines.transition().duration(500).attr("points",function(d){if(d.value<6&&d.value>0){var posA=arc.centroid(d);var posB=outerArc2.centroid(d);var posC=outerArc2.centroid(d);var midangle=d.startAngle+(d.endAngle-d.startAngle)/2;posC[0]=radius*.95*(midangle<Math.PI?1:-1);return[posA,posB,posC]}});polylines.exit().transition().duration(500).remove()}}]);return GraphDonut}();exports.GraphDonut=GraphDonut}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],3:[function(require,module,exports){(function(global){"use strict";function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}Object.defineProperty(exports,"__esModule",{value:true});exports.GraphBarh=void 0;var d3=_interopRequireWildcard(typeof window!=="undefined"?window["d3"]:typeof global!=="undefined"?global["d3"]:null);function _getRequireWildcardCache(){if(typeof WeakMap!=="function")return null;var cache=new WeakMap;_getRequireWildcardCache=function _getRequireWildcardCache(){return cache};return cache}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{default:obj}}var cache=_getRequireWildcardCache();if(cache&&cache.has(obj)){return cache.get(obj)}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj)}return newObj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}var GraphBarh=function(){function GraphBarh(configuration){_classCallCheck(this,GraphBarh);var config={height:200,width:200,margin:10,minValue:0,maxValue:"",majorTicks:5,color:["#444","#aaa","#eee"],transitionMs:1e3,displayUnit:"Value",container:"",title:"",xLabel:"",yLabel:"",value:"",legend:"",yDomain:"",marginLeft:.15,colorText:["#000"]};this.config=Object.assign(config,configuration);this.margin={top:this.config.height*.003,right:this.config.width*.03,bottom:this.config.height*.2,left:this.config.width*this.config.marginLeft};this.mheight=this.config.height-this.margin.top-this.margin.bottom;this.mwidth=this.config.width-this.margin.left-this.margin.right;this.svg=d3.select(this.config.container).append("svg").attr("width",this.config.width).attr("height",this.config.height);this.xAxis=this.svg.append("g").attr("class","xAxis").attr("transform","translate("+this.margin.left+","+(this.mheight+this.margin.top)+")");this.xGrid=this.svg.append("g").attr("class","xGrid").attr("transform","translate("+this.margin.left+","+(this.mheight+this.margin.top)+")");this.yAxis=this.svg.append("g").attr("class","yAxis").attr("transform","translate("+this.margin.left+","+this.margin.top+")");this.g=this.svg.append("g").attr("transform","translate("+this.margin.left+","+this.margin.top+")");this.svgLabel=this.svg.append("g").attr("class","label");this.svgLabel.append("text").attr("class","yLabel").attr("transform","rotate(-90)").attr("y",5).attr("x",0-this.config.height*.5).attr("dy",".71em").style("text-anchor","middle").text(this.config.yLabel);this.svgLabel.append("text").attr("class","xLabel").attr("y",this.config.height*.92).attr("x",this.config.width*.55).attr("dy",".71em").style("text-anchor","middle").text(this.config.xLabel);var svgLegend=d3.select(this.config.container+"Legend").append("svg").attr("width",this.mwidth).attr("height",this.mheight*.3);svgLegend.append("g").attr("class","legend").attr("transform","translate("+this.mwidth*.1+", "+0+")").attr("dy",".5em").attr("dx",".5em");var colorScale=d3.scaleOrdinal().domain(this.config.value).range(this.config.color);var legendColor=d3.legendColor().shapePadding(5).scale(colorScale).shapeWidth(10).shapeHeight(10);svgLegend.select(".legend").call(legendColor)}_createClass(GraphBarh,[{key:"render",value:function render(newValue){}},{key:"update",value:function update(response){var _this=this;var stack=d3.stack().keys(["data1","data2"]).order(d3.stackOrderNone).offset(d3.stackOffsetNone);var data=stack(response);if(this.config.yDomain===""){this.config.yDomain=response.map(function(d){return d.class_name})}this.config.maxValue=d3.max(data,function(d){return d3.max(d,function(d){return d[1]})});var yScale=d3.scalePoint().domain(response.map(function(d){return d.class_name})).range([0,this.mheight]).padding(1);var xScale=d3.scaleLinear().domain([0,this.config.maxValue]).range([0,this.mwidth]);var xGrid=function xGrid(g){return g.call(d3.axisBottom(xScale).tickSizeInner(-_this.mheight).ticks(6)).call(function(g){return g.selectAll(".domain").remove()}).call(function(g){return g.selectAll(".tick text").remove()})};var xAxis=function xAxis(g){return g.call(d3.axisBottom(xScale).ticks(6,"0f").tickSizeOuter(0))};var yAxis=function yAxis(g){return g.call(d3.axisLeft(yScale).tickValues(_this.config.yDomain).tickSizeOuter(0))};this.svg.selectAll(".xAxis").transition().call(xAxis);this.svg.selectAll(".xGrid").transition().call(xGrid);var axisGroup=this.svg.selectAll(".yAxis").call(yAxis);var bandwidth=tickWidth(this.svg.selectAll(".yAxis"));axisGroup.selectAll("text").attr("transform","translate(0, "+bandwidth/2+")");function tickWidth(selection){var ticks=selection.selectAll(".tick text").nodes().map(function(d){return d.textContent});return yScale(ticks[1])-yScale(ticks[0])}var layer=this.g.selectAll("g").data(data).join("g").attr("fill",function(d,i){return _this.config.color[i]}).attr("class",function(d,i){return _this.config.value[i]});var rects=layer.selectAll("rect").data(function(d){return d});rects.enter().append("rect").attr("x",function(d){return xScale(d[0])}).attr("y",function(d,i){return yScale(d.data.class_name)}).attr("width",function(d){return xScale(d[1])-xScale(d[0])}).attr("height",yScale.step());rects.transition().duration(500).attr("x",function(d){return xScale(d[0])}).attr("y",function(d,i){return yScale(d.data.class_name)}).attr("width",function(d){return xScale(d[1])-xScale(d[0])}).attr("height",yScale.step());rects.exit().transition().duration(500).remove()}}]);return GraphBarh}();exports.GraphBarh=GraphBarh}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],4:[function(require,module,exports){(function(global){"use strict";function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}Object.defineProperty(exports,"__esModule",{value:true});exports.GraphBarh=void 0;var d3=_interopRequireWildcard(typeof window!=="undefined"?window["d3"]:typeof global!=="undefined"?global["d3"]:null);function _getRequireWildcardCache(){if(typeof WeakMap!=="function")return null;var cache=new WeakMap;_getRequireWildcardCache=function _getRequireWildcardCache(){return cache};return cache}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{default:obj}}var cache=_getRequireWildcardCache();if(cache&&cache.has(obj)){return cache.get(obj)}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj)}return newObj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}var GraphBarh=function(){function GraphBarh(configuration){_classCallCheck(this,GraphBarh);var config={height:200,width:200,margin:10,minValue:0,maxValue:"",majorTicks:5,color:["#444","#aaa","#eee"],transitionMs:1e3,displayUnit:"Value",container:"",title:"",xLabel:"",yLabel:"",value:"",legend:"",yDomain:[0,100],marginLeft:.15,colorText:["#000"]};this.config=Object.assign(config,configuration);this.margin={top:this.config.height*.08,right:this.config.width*.03,bottom:this.config.height*.2,left:this.config.width*this.config.marginLeft};this.mheight=this.config.height-this.margin.top-this.margin.bottom;this.mwidth=this.config.width-this.margin.left-this.margin.right;this.svg=d3.select(this.config.container).append("svg").attr("width",this.config.width).attr("height",this.config.height);this.xAxis=this.svg.append("g").attr("class","xAxis").attr("transform","translate("+this.margin.left+","+(this.mheight+this.margin.top)+")");this.yGrid=this.svg.append("g").attr("class","yGrid").attr("transform","translate("+this.margin.left+","+this.margin.top+")");this.yAxis=this.svg.append("g").attr("class","yAxis").attr("transform","translate("+this.margin.left+","+this.margin.top+")");this.g=this.svg.append("g").attr("transform","translate("+this.margin.left+","+this.margin.top+")");this.svgLabel=this.svg.append("g").attr("class","label");this.svgLabel.append("text").attr("class","yLabel").attr("transform","rotate(-90)").attr("y",5).attr("x",0-this.config.height*.5).attr("dy",".71em").style("text-anchor","middle").text(this.config.yLabel);this.svgLabel.append("text").attr("class","xLabel").attr("y",this.config.height*.92).attr("x",this.config.width*.55).attr("dy",".71em").style("text-anchor","middle").text(this.config.xLabel);var svgLegend=d3.select(this.config.container+"Legend").append("svg").attr("width",this.mwidth).attr("height",this.mheight*.3);svgLegend.append("g").attr("class","legend").attr("transform","translate("+this.mwidth*.1+", "+0+")").attr("dy",".5em").attr("dx",".5em");var colorScale=d3.scaleOrdinal().domain(this.config.value).range(this.config.color);var legendColor=d3.legendColor().shapePadding(5).scale(colorScale).shapeWidth(10).shapeHeight(10);svgLegend.select(".legend").call(legendColor)}_createClass(GraphBarh,[{key:"render",value:function render(newValue){}},{key:"update",value:function update(response){var _this=this;var stack=d3.stack().keys(["data1","data2"]).order(d3.stackOrderNone).offset(d3.stackOffsetNone);var data=stack(response);var xScale=d3.scaleBand().domain(response.map(function(d){return d.class_name})).range([0,this.mwidth]).paddingInner(.1).paddingOuter(.1).round(true);var yScale=d3.scaleLinear().domain(this.config.yDomain).range([this.mheight,0]);var yGrid=function yGrid(g){return g.call(d3.axisLeft(yScale).tickSizeInner(-_this.mwidth).tickPadding(10)).call(function(g){return g.selectAll(".domain").remove()}).call(function(g){return g.selectAll(".tick text").remove()})};var xAxis=function xAxis(g){return g.call(d3.axisBottom(xScale).tickValues(response.map(function(d){return d.class_name})).tickSizeOuter(0))};var yAxis=function yAxis(g){return g.call(d3.axisLeft(yScale).tickFormat(function(d){return d+"%"}).tickPadding(10).ticks(10))};this.svg.selectAll(".yAxis").transition().call(yAxis);this.svg.selectAll(".yGrid").transition().call(yGrid);var axisGroup=this.svg.selectAll(".xAxis").call(xAxis);var layer=this.g.selectAll("g").data(data).join("g").attr("fill",function(d,i){return _this.config.color[i]}).attr("class",function(d,i){return _this.config.value[i]});var rects=layer.selectAll("rect").data(function(d){return d});rects.enter().append("rect").attr("x",function(d){return xScale(d.data.class_name)}).attr("y",function(d){return yScale(d[1])}).attr("width",xScale.bandwidth()).attr("height",function(d){return yScale(d[0])-yScale(d[1])});rects.transition().duration(500).attr("x",function(d){return xScale(d.data.class_name)}).attr("y",function(d){return yScale(d[1])}).attr("width",xScale.bandwidth()).attr("height",function(d){return yScale(d[0])-yScale(d[1])});rects.exit().transition().duration(500).remove()}}]);return GraphBarh}();exports.GraphBarh=GraphBarh}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],5:[function(require,module,exports){(function(global){"use strict";function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}Object.defineProperty(exports,"__esModule",{value:true});exports.GraphOneBarV=void 0;var d3=_interopRequireWildcard(typeof window!=="undefined"?window["d3"]:typeof global!=="undefined"?global["d3"]:null);function _getRequireWildcardCache(){if(typeof WeakMap!=="function")return null;var cache=new WeakMap;_getRequireWildcardCache=function _getRequireWildcardCache(){return cache};return cache}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{default:obj}}var cache=_getRequireWildcardCache();if(cache&&cache.has(obj)){return cache.get(obj)}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj)}return newObj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}var GraphOneBarV=function(){function GraphOneBarV(configuration){_classCallCheck(this,GraphOneBarV);this.config={height:200,width:200,margin:10,minValue:0,maxValue:100,color:["#444","#aaa","#eee"],transitionMs:1e3,container:"",title:"",xLabel:"",yLabel:"",value:"",legend:"",yDomain:[0,100],marginLeft:.15,colorText:["#222","#222","#222"],yTickValue:["0","25","50","75","100"],typeLegend:1};this.config=Object.assign(this.config,configuration);this.margin={top:this.config.height*.08,right:this.config.width*.07,bottom:this.config.height*.2,left:this.config.width*this.config.marginLeft};this.mheight=this.config.height-this.margin.top-this.margin.bottom;this.mwidth=this.config.width-this.margin.left-this.margin.right;this.svg=d3.select(this.config.container).append("svg").attr("width",this.config.width).attr("height",this.config.height);this.yAxis=this.svg.append("g").attr("class","yAxis").attr("transform","translate("+this.margin.left+","+this.margin.top+")");this.g=this.svg.append("g").attr("transform","translate("+this.margin.left+","+this.margin.top+")");this.svgLabel=this.svg.append("g").attr("class","label");this.svgLabel.append("text").attr("class","yLabel").attr("transform","rotate(-90)").attr("y",5).attr("x",0-this.config.height*.5).attr("dy",".71em").style("text-anchor","middle").text(this.config.yLabel);var svgLegend=d3.select(this.config.container+"Legend").append("svg").attr("width",this.mwidth).attr("height",this.mheight*.3);if(this.config.typeLengend===1){svgLegend.append("g").attr("class","legend").attr("transform","translate("+this.mwidth*.1+", "+0+")")}else{svgLegend.append("g").attr("class","legend").attr("transform","translate("+this.mwidth*.1+", "+0+")").attr("dy",".5em").attr("dx",".5em")}var colorScale=d3.scaleOrdinal().domain(this.config.legend).range(this.config.color);var legendColor=d3.legendColor();if(this.config.typeLengend===1){legendColor.scale(colorScale).shapeWidth(70).shapeHeight(7).orient("horizontal").labelAlign("start").labelWrap(30)}else{legendColor.shapePadding(5).scale(colorScale).shapeWidth(10).shapeHeight(10)}svgLegend.select(".legend").call(legendColor)}_createClass(GraphOneBarV,[{key:"update",value:function update(response){var _this=this;var data=response;var yScale=d3.scaleLinear().domain(this.config.yDomain).range([this.mheight,0]);var yAxis=function yAxis(g){return g.call(d3.axisLeft(yScale).tickFormat(function(d){return d+"%"}).tickSizeInner(-_this.mwidth*.6).tickPadding(10).tickValues(_this.config.yTickValue))};this.svg.selectAll(".yAxis").call(yAxis).select(".domain").remove();function definePosition(i){if(i!==0){var height=0;for(var y=0;y<i;y++){height+=data[y].value}return yScale(100-height)}else{return 0}}function definePositionText(i,domain){var height=0;for(var y=i;y>=0;y--){if(y===i){height+=defineHeightRect(data[y],y,domain,false)/2}else{height+=data[y].value}}return yScale(100-height)}function defineHeightRect(d,i,domain){var scale=arguments.length>3&&arguments[3]!==undefined?arguments[3]:true;var height=0;if(i===data.length-1){height=d.value-domain[0]}else{height=d.value}if(scale===true){return yScale(100-height)}else{return height}}var rects=this.g.selectAll("rect").data(data);rects.enter().append("rect").attr("class",function(d,i){return _this.config.value[i]}).style("fill",function(d,i){return _this.config.color[i]}).style("opacity","1").attr("width",this.mwidth*.3).attr("x",this.mwidth*.15).attr("y",function(d,i){return definePosition(i)}).attr("height",function(d,i){return defineHeightRect(d,i,_this.config.yDomain)}).transition().duration(500);rects.transition().duration(500).attr("y",function(d,i){return definePosition(i)}).attr("height",function(d,i){return defineHeightRect(d,i,_this.config.yDomain)});rects.exit().transition().duration(500).remove();var texts=this.g.selectAll("text").data(data);texts.enter().append("text").attr("class","label").attr("text-anchor","middle").attr("x",2*this.mwidth*.15).attr("y",function(d,i){return definePositionText(i,_this.config.yDomain)}).attr("dy",".5em").attr("dx",".5em").text(function(d){if(d.value!==0){return d3.format(".1%")(d.value/100)}}).attr("font-family","sans-serif").attr("font-size","20px").attr("fill",function(d,i){return _this.config.colorText[i]}).transition().duration(500);texts.transition().duration(500).attr("y",function(d,i){return definePositionText(i,_this.config.yDomain)}).text(function(d){if(d.value!==0){return d3.format(".1%")(d.value/100)}}).attr("fill",function(d,i){return _this.config.colorText[i]});texts.exit().transition().duration(500).remove()}}]);return GraphOneBarV}();exports.GraphOneBarV=GraphOneBarV}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],6:[function(require,module,exports){(function(global){"use strict";function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}Object.defineProperty(exports,"__esModule",{value:true});exports.GraphPyramidh=void 0;var d3=_interopRequireWildcard(typeof window!=="undefined"?window["d3"]:typeof global!=="undefined"?global["d3"]:null);function _getRequireWildcardCache(){if(typeof WeakMap!=="function")return null;var cache=new WeakMap;_getRequireWildcardCache=function _getRequireWildcardCache(){return cache};return cache}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{default:obj}}var cache=_getRequireWildcardCache();if(cache&&cache.has(obj)){return cache.get(obj)}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj)}return newObj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}var GraphPyramidh=function(){function GraphPyramidh(configuration){_classCallCheck(this,GraphPyramidh);var config={height:200,width:200,margin:10,minValue:0,maxValue:100,majorTicks:5,color:["#444","#aaa","#eee"],transitionMs:1e3,displayUnit:"Value",container:"",title:"",xLabel:"",yLabel:"",value:"",legend:"",yDomain:"",marginLeft:.15,colorText:["#000"]};this.config=Object.assign(config,configuration);this.margin={top:this.config.height*.003,right:this.config.width*.03,bottom:this.config.height*.2,left:this.config.width*this.config.marginLeft};this.mheight=this.config.height-this.margin.top-this.margin.bottom;this.mwidth=this.config.width-this.margin.left-this.margin.right;this.mwidthMiddle=this.mwidth/2;this.svg=d3.select(this.config.container).append("svg").attr("width",this.config.width).attr("height",this.config.height);this.xAxisLeft=this.svg.append("g").attr("class","xAxisLeft").attr("transform","translate("+this.margin.left+","+(this.mheight+this.margin.top)+")");this.xGridLeft=this.svg.append("g").attr("class","xGridLeft").attr("transform","translate("+this.margin.left+","+(this.mheight+this.margin.top)+")");this.xAxisRight=this.svg.append("g").attr("class","xAxisRight").attr("transform","translate("+(this.mwidthMiddle+this.margin.left)+","+(this.mheight+this.margin.top)+")");this.xGridRight=this.svg.append("g").attr("class","xGridRight").attr("transform","translate("+(this.mwidthMiddle+this.margin.left)+","+(this.mheight+this.margin.top)+")");this.yGrid=this.svg.append("g").attr("class","yGrid").attr("transform","translate("+this.margin.left+","+this.margin.top+")");this.yAxisRight=this.svg.append("g").attr("class","yAxisRight").attr("transform","translate("+this.margin.left+","+this.margin.top+")");this.dataRight=this.svg.append("g").attr("transform","translate("+(this.mwidthMiddle+this.margin.left)+","+this.margin.top+")").attr("class","dataRight");this.dataLeft=this.svg.append("g").attr("transform","translate("+(this.mwidthMiddle+this.margin.left)+","+this.margin.top+")scale(-1,1)").attr("class","dataLeft");this.svgLabel=this.svg.append("g").attr("class","label");this.svgLabel.append("text").attr("class","yLabel").attr("transform","rotate(-90)").attr("y",5).attr("x",0-this.config.height*.5).attr("dy",".71em").style("text-anchor","middle").text(this.config.yLabel);this.svgLabel.append("text").attr("class","xLabel").attr("y",this.config.height*.92).attr("x",this.config.width*.55).attr("dy",".71em").style("text-anchor","middle").text(this.config.xLabel);var svgLegend=d3.select(this.config.container+"Legend").append("svg").attr("width",this.mwidth).attr("height",this.mheight*.3);svgLegend.append("g").attr("class","legend").attr("transform","translate("+this.mwidth*.1+", "+0+")").attr("dy",".5em").attr("dx",".5em");var colorScale=d3.scaleOrdinal().domain(this.config.value).range(this.config.color);var legendColor=d3.legendColor().shapePadding(5).scale(colorScale).shapeWidth(10).shapeHeight(10);svgLegend.select(".legend").call(legendColor)}_createClass(GraphPyramidh,[{key:"render",value:function render(newValue){}},{key:"update",value:function update(response){var _this=this;var data=response;if(this.config.yDomain===""){this.config.yDomain=response.map(function(d){return d.class_name})}var yScale=d3.scalePoint().domain(response.map(function(d){return d.class_name})).range([0,this.mheight]).padding(1);var xScaleRight=d3.scaleLinear().domain([0,this.config.maxValue]).range([0,this.mwidthMiddle]);var xScaleLeft=d3.scaleLinear().domain([0,this.config.maxValue]).range([this.mwidthMiddle,0]);var xGridRight=function xGridRight(g){return g.call(d3.axisBottom(xScaleRight).tickSizeInner(-_this.mheight).ticks(6)).call(function(g){return g.selectAll(".domain").remove()}).call(function(g){return g.selectAll(".tick text").remove()})};var xGridLeft=function xGridLeft(g){return g.call(d3.axisBottom(xScaleLeft).tickSizeInner(-_this.mheight).ticks(6)).call(function(g){return g.selectAll(".domain").remove()}).call(function(g){return g.selectAll(".tick text").remove()})};var yGrid=function yGrid(g){return g.call(d3.axisLeft(yScale).tickValues(_this.config.yDomain).tickSizeInner(-_this.mwidth)).call(function(g){return g.selectAll(".domain").remove()}).call(function(g){return g.selectAll(".tick text").remove()})};var xAxisRight=function xAxisRight(g){return g.call(d3.axisBottom(xScaleRight).ticks(6,"0f").tickSizeOuter(0))};var xAxisLeft=function xAxisLeft(g){return g.call(d3.axisBottom(xScaleLeft).ticks(6,"0f").tickSizeOuter(0))};var yAxisRight=function yAxisRight(g){return g.call(d3.axisLeft(yScale).tickValues(_this.config.yDomain).tickSizeOuter(0))};this.svg.selectAll(".xAxisRight").transition().call(xAxisRight);this.svg.selectAll(".xGridRight").transition().call(xGridRight);this.svg.selectAll(".xAxisLeft").transition().call(xAxisLeft);this.svg.selectAll(".xGridLeft").transition().call(xGridLeft);this.svg.selectAll(".yGrid").transition().call(yGrid);var axisGroupRight=this.svg.selectAll(".yAxisRight").call(yAxisRight);var bandwidthRight=tickWidth(this.svg.selectAll(".yAxisRight"));axisGroupRight.selectAll("text").attr("transform","translate(0, "+bandwidthRight/2+")");function tickWidth(selection){var ticks=selection.selectAll(".tick text").nodes().map(function(d){return d.textContent});return yScale(ticks[1])-yScale(ticks[0])}var layerRight=this.dataRight.attr("fill",this.config.color[1]).attr("class",this.config.value[1]);var rectsRight=layerRight.selectAll("rect").data(data);rectsRight.enter().append("rect").attr("x",0).attr("y",function(d){return yScale(d.class_name)}).attr("width",function(d){return xScaleRight(d.data2)}).attr("height",yScale.step());rectsRight.transition().duration(500).attr("x",0).attr("y",function(d){return yScale(d.class_name)}).attr("width",function(d){return xScaleRight(d.data2)}).attr("height",yScale.step());rectsRight.exit().transition().duration(500).remove();var layerLeft=this.dataLeft.attr("fill",this.config.color[0]).attr("class",this.config.value[0]);var rectsLeft=layerLeft.selectAll("rect").data(data);rectsLeft.enter().append("rect").attr("x",0).attr("y",function(d){return yScale(d.class_name)}).attr("width",function(d){return xScaleLeft(100-d.data1)}).attr("height",yScale.step());rectsLeft.transition().duration(500).attr("x",0).attr("y",function(d){return yScale(d.class_name)}).attr("width",function(d){return xScaleLeft(100-d.data1)}).attr("height",yScale.step());rectsLeft.exit().transition().duration(500).remove()}}]);return GraphPyramidh}();exports.GraphPyramidh=GraphPyramidh}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],7:[function(require,module,exports){(function(global){"use strict";function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}Object.defineProperty(exports,"__esModule",{value:true});exports.GraphStakedArea=void 0;var d3=_interopRequireWildcard(typeof window!=="undefined"?window["d3"]:typeof global!=="undefined"?global["d3"]:null);function _getRequireWildcardCache(){if(typeof WeakMap!=="function")return null;var cache=new WeakMap;_getRequireWildcardCache=function _getRequireWildcardCache(){return cache};return cache}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{default:obj}}var cache=_getRequireWildcardCache();if(cache&&cache.has(obj)){return cache.get(obj)}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj)}return newObj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}var GraphStakedArea=function(){function GraphStakedArea(configuration){_classCallCheck(this,GraphStakedArea);var config={height:200,width:200,margin:10,minValue:0,maxValue:"",majorTicks:5,color:["#444","#aaa","#eee"],transitionMs:1e3,displayUnit:"Value",container:"",title:"",xLabel:"",yLabel:"",value:"",legend:"",yDomain:[0,100],xDomain:["100","300","500","700","900","1100","1300","1500","1700"],marginLeft:.15,colorText:["#222"],yTickValue:["0","25","50","75","100"]};this.config=Object.assign(config,configuration);this.margin={top:this.config.height*.08,right:this.config.width*.03,bottom:this.config.height*.2,left:this.config.width*this.config.marginLeft};this.mheight=this.config.height-this.margin.top-this.margin.bottom;this.mwidth=this.config.width-this.margin.left-this.margin.right;this.svg=d3.select(this.config.container).append("svg").attr("width",this.config.width).attr("height",this.config.height);this.xAxis=this.svg.append("g").attr("class","xAxis").attr("transform","translate("+this.margin.left+","+(this.mheight+this.margin.top)+")");this.yGrid=this.svg.append("g").attr("class","yGrid").attr("transform","translate("+this.margin.left+","+this.margin.top+")");this.yAxis=this.svg.append("g").attr("class","yAxis").attr("transform","translate("+this.margin.left+","+this.margin.top+")");this.g=this.svg.append("g").attr("transform","translate("+this.margin.left+","+this.margin.top+")");this.svgLabel=this.svg.append("g").attr("class","label");this.svgLabel.append("text").attr("class","yLabel").attr("transform","rotate(-90)").attr("y",5).attr("x",0-this.config.height*.5).attr("dy",".71em").style("text-anchor","middle").text(this.config.yLabel);this.svgLabel.append("text").attr("class","xLabel").attr("y",this.config.height*.92).attr("x",this.config.width*.55).attr("dy",".71em").style("text-anchor","middle").text(this.config.xLabel);var svgLegend=d3.select(this.config.container+"Legend").append("svg").attr("width",this.mwidth).attr("height",this.mheight*.3);svgLegend.append("g").attr("class","legend").attr("transform","translate("+this.mwidth*.1+", "+0+")");var colorScale=d3.scaleOrdinal().domain(this.config.legend).range(this.config.color);var legendColor=d3.legendColor().scale(colorScale).shapeWidth(70).shapeHeight(7).orient("horizontal").labelAlign("start").labelWrap(30);svgLegend.select(".legend").call(legendColor)}_createClass(GraphStakedArea,[{key:"render",value:function render(newValue){}},{key:"update",value:function update(response){var _this=this;var stack=d3.stack().keys(["data1","data2","data3"]).order(d3.stackOrderNone).offset(d3.stackOffsetNone);var data=stack(response);var xScale=d3.scaleBand().domain(response.map(function(d){return d.class_name})).range([0,this.mwidth]);var yScale=d3.scaleLinear().domain(this.config.yDomain).range([this.mheight,0]);var xAxis=function xAxis(g){return g.call(d3.axisBottom(xScale).tickValues(_this.config.xDomain).tickSizeOuter(0))};var yAxis=function yAxis(g){return g.call(d3.axisLeft(yScale).tickFormat(function(d){return d+"%"}).tickPadding(10).tickValues(_this.config.yTickValue))};this.svg.selectAll(".yAxis").transition().call(yAxis);this.svg.selectAll(".xAxis").call(xAxis);var area=d3.area().x(function(d){return xScale(d.data.class_name)}).y0(function(d){return yScale(d[0])}).y1(function(d){return yScale(d[1])});var areas=this.g.selectAll("path").data(data);areas.enter().append("path").style("fill",function(d,i){return _this.config.color[i]}).attr("class",function(d,i){return _this.config.value[i]}).attr("d",area);areas.transition().duration(500).attr("d",area);areas.exit().transition().duration(500).remove()}}]);return GraphStakedArea}();exports.GraphStakedArea=GraphStakedArea}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],8:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.showPreloader=showPreloader;exports.hidePreloader=hidePreloader;function showPreloader(){document.getElementById("preloader").style.display="inline"}function hidePreloader(){document.getElementById("preloader").style.display="none"}},{}],9:[function(require,module,exports){(function(global){"use strict";function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}Object.defineProperty(exports,"__esModule",{value:true});exports.RadarChart=void 0;var d3=_interopRequireWildcard(typeof window!=="undefined"?window["d3"]:typeof global!=="undefined"?global["d3"]:null);function _getRequireWildcardCache(){if(typeof WeakMap!=="function")return null;var cache=new WeakMap;_getRequireWildcardCache=function _getRequireWildcardCache(){return cache};return cache}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{default:obj}}var cache=_getRequireWildcardCache();if(cache&&cache.has(obj)){return cache.get(obj)}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj)}return newObj}var RadarChart={draw:function draw(id,d,options){var cfg={radius:5,w:600,h:600,factor:1,factorLegend:1,levels:3,maxValue:0,radians:2*Math.PI,opacityArea:.5,ToRight:5,TranslateX:80,TranslateY:30,ExtraWidthX:100,ExtraWidthY:100,color:d3.scaleOrdinal(d3.schemeCategory10),formatLevel:".0%"};if(typeof options!=="undefined"){for(var i in options){if(typeof options[i]!=="undefined"){cfg[i]=options[i]}}}cfg.maxValue=Math.max(cfg.maxValue,d3.max(d,function(i){return d3.max(i.map(function(o){return o.value}))}));var allAxis=d[0].map(function(i,j){return i.axis});var total=allAxis.length;var radius=cfg.factor*Math.min(cfg.w/2,cfg.h/2);var Format=d3.format("%");d3.select(id).select("svg").remove();var g=d3.select(id).append("svg").attr("width",cfg.w+cfg.ExtraWidthX).attr("height",cfg.h+cfg.ExtraWidthY).append("g").attr("transform","translate("+cfg.TranslateX+","+cfg.TranslateY+")");var tooltip;for(var j=0;j<cfg.levels;j++){var levelFactor=cfg.factor*radius*((j+1)/cfg.levels);g.selectAll(".levels").data(allAxis).enter().append("svg:line").attr("x1",function(d,i){return levelFactor*(1-cfg.factor*Math.sin(i*cfg.radians/total))}).attr("y1",function(d,i){return levelFactor*(1-cfg.factor*Math.cos(i*cfg.radians/total))}).attr("x2",function(d,i){return levelFactor*(1-cfg.factor*Math.sin((i+1)*cfg.radians/total))}).attr("y2",function(d,i){return levelFactor*(1-cfg.factor*Math.cos((i+1)*cfg.radians/total))}).attr("class","line").attr("transform","translate("+(cfg.w/2-levelFactor)+", "+(cfg.h/2-levelFactor)+")")}for(var j=0;j<cfg.levels;j++){levelFactor=cfg.factor*radius*((j+1)/cfg.levels);g.selectAll(".levels").data([1]).enter().append("svg:text").attr("x",function(d){return levelFactor*(1-cfg.factor*Math.sin(0))+10}).attr("y",function(d){return levelFactor*(1-cfg.factor*Math.cos(0))+5}).attr("class","legend").attr("transform","translate("+(cfg.w/2-levelFactor+cfg.ToRight)+", "+(cfg.h/2-levelFactor)+")").attr("fill","#737373").text(d3.format(cfg.formatLevel)((j+1)*cfg.maxValue/cfg.levels))}var series=0;var axis=g.selectAll(".axis").data(allAxis).enter().append("g").attr("class","axis");axis.append("text").attr("class","legend").text(function(d){return d}).attr("text-anchor","middle").attr("dy","1.5em").attr("transform",function(d){return"translate(0, -10)"}).attr("x",function(d,i){return cfg.w/2*(1+cfg.factorLegend*Math.sin(i*cfg.radians/total))+60*Math.sin(i*cfg.radians/total)}).attr("y",function(d,i){return cfg.h/2*(1-Math.cos(i*cfg.radians/total))-20*Math.cos(i*cfg.radians/total)});var dataValues=[];d.forEach(function(y,x){g.selectAll(".nodes").data(y,function(j,i){dataValues.push([cfg.w/2*(1+parseFloat(Math.max(j.value,0))/cfg.maxValue*cfg.factor*Math.sin(i*cfg.radians/total)),cfg.h/2*(1-parseFloat(Math.max(j.value,0))/cfg.maxValue*cfg.factor*Math.cos(i*cfg.radians/total))])});dataValues.push(dataValues[0]);g.selectAll(".area").data([dataValues]).enter().append("polygon").attr("class","radar-chart-serie"+series).style("stroke-width","2px").style("stroke",cfg.color(series)).attr("points",function(d){var str="";for(var pti=0;pti<d.length;pti++){str=str+d[pti][0]+","+d[pti][1]+" "}return str}).style("fill",function(j,i){return cfg.color(series)}).style("fill-opacity",cfg.opacityArea).on("mouseover",function(d){var z="polygon."+d3.select(this).attr("class");g.selectAll("polygon").transition(200).style("fill-opacity",.1);g.selectAll(z).transition(200).style("fill-opacity",.7)}).on("mouseout",function(){g.selectAll("polygon").transition(200).style("fill-opacity",cfg.opacityArea)});series++});series=0;d.forEach(function(y,x){g.selectAll(".nodes").data(y).enter().append("svg:circle").attr("class","radar-chart-serie"+series).attr("r",cfg.radius).attr("alt",function(j){return Math.max(j.value,0)}).attr("cx",function(j,i){dataValues.push([cfg.w/2*(1+parseFloat(Math.max(j.value,0))/cfg.maxValue*cfg.factor*Math.sin(i*cfg.radians/total)),cfg.h/2*(1-parseFloat(Math.max(j.value,0))/cfg.maxValue*cfg.factor*Math.cos(i*cfg.radians/total))]);return cfg.w/2*(1+Math.max(j.value,0)/cfg.maxValue*cfg.factor*Math.sin(i*cfg.radians/total))}).attr("cy",function(j,i){return cfg.h/2*(1-Math.max(j.value,0)/cfg.maxValue*cfg.factor*Math.cos(i*cfg.radians/total))}).attr("data-id",function(j){return j.axis}).style("fill",cfg.color(series)).style("fill-opacity",.9).on("mouseover",function(d){var newX=parseFloat(d3.select(this).attr("cx"))-10;var newY=parseFloat(d3.select(this).attr("cy"))-5;tooltip.attr("x",newX).attr("y",newY).text(d3.format(".0%")(d.value)).transition(200).style("opacity",1);var z="polygon."+d3.select(this).attr("class");g.selectAll("polygon").transition(200).style("fill-opacity",.1);g.selectAll(z).transition(200).style("fill-opacity",.7)}).on("mouseout",function(){tooltip.transition(200).style("opacity",0);g.selectAll("polygon").transition(200).style("fill-opacity",cfg.opacityArea)}).append("svg:title").text(function(j){return Math.max(j.value,0)});series++});tooltip=g.append("text").style("opacity",0).style("font-family","sans-serif").style("font-size","12px")}};exports.RadarChart=RadarChart}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],10:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.taxonTreeList=exports.taxonList=exports.shapeLocation=exports.shapeList=exports.plotList=void 0;var host=window.location.host;var protocol=window.location.protocol;var apiRoot=protocol+"//"+host+"/api/1.0";var plotList=apiRoot+"/Plot/";exports.plotList=plotList;var shapeList=apiRoot+"/Shape/";exports.shapeList=shapeList;var shapeLocation=apiRoot+"/ShapeLocation/";exports.shapeLocation=shapeLocation;var taxonList=apiRoot+"/Taxon/";exports.taxonList=taxonList;var taxonTreeList=apiRoot+"/TaxonTree/";exports.taxonTreeList=taxonTreeList},{}],11:[function(require,module,exports){"use strict";function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}Object.defineProperty(exports,"__esModule",{value:true});exports.initGauges=initGauges;var d3Gauge=_interopRequireWildcard(require("../D3gauge"));function _getRequireWildcardCache(){if(typeof WeakMap!=="function")return null;var cache=new WeakMap;_getRequireWildcardCache=function _getRequireWildcardCache(){return cache};return cache}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{default:obj}}var cache=_getRequireWildcardCache();if(cache&&cache.has(obj)){return cache.get(obj)}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj)}return newObj}function initGauges(data){var fragmentationMax=10;function initMax(maxValue,initMaxValue){if(maxValue===0){return initMaxValue}else{return maxValue}}function initGauge(id,unit,minValue,maxValue){return new d3Gauge.Gauge({width:$(id).width(),height:$(id).height(),displayUnit:unit,container:id,minValue:minValue,maxValue:maxValue})}var fragmentation=initGauge("#fragmentation","",0,fragmentationMax);fragmentation.render();$("#shape_select").on("shapeSelected",function(event,data){updateData(data)});function updateData(data){fragmentation.update(data.properties.fragment_meff_cbc,fragmentationMax)}}},{"../D3gauge":1}],12:[function(require,module,exports){"use strict";function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}Object.defineProperty(exports,"__esModule",{value:true});exports.initGraphBarhs=initGraphBarhs;var d3GraphBarh=_interopRequireWildcard(require("../d3GraphBarh"));var d3GraphPyramidh=_interopRequireWildcard(require("../d3GraphPyramidh"));function _getRequireWildcardCache(){if(typeof WeakMap!=="function")return null;var cache=new WeakMap;_getRequireWildcardCache=function _getRequireWildcardCache(){return cache};return cache}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{default:obj}}var cache=_getRequireWildcardCache();if(cache&&cache.has(obj)){return cache.get(obj)}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj)}return newObj}function initGraphBarhs(data){function initMax(maxValue,initMaxValue){if(maxValue===0){return initMaxValue}else{return maxValue}}function initGraphBarh(id,xLabel,yLabel,value,yDomain){var maxValue=arguments.length>5&&arguments[5]!==undefined?arguments[5]:"";var marginLeft=arguments.length>6&&arguments[6]!==undefined?arguments[6]:.15;var legend=arguments.length>7?arguments[7]:undefined;return new d3GraphBarh.GraphBarh({width:$(id).width(),height:$(id).height(),container:id,title:"",xLabel:xLabel,yLabel:yLabel,value:value,yDomain:yDomain,maxValue:maxValue,marginLeft:marginLeft,color:["#548235","#f5e9d8"]})}function initGraphPyramidh(id,xLabel,yLabel,value,yDomain){var maxValue=arguments.length>5&&arguments[5]!==undefined?arguments[5]:100;var marginLeft=arguments.length>6&&arguments[6]!==undefined?arguments[6]:.15;var legend=arguments.length>7?arguments[7]:undefined;return new d3GraphPyramidh.GraphPyramidh({width:$(id).width(),height:$(id).height(),container:id,title:"",xLabel:xLabel,yLabel:yLabel,value:value,yDomain:yDomain,maxValue:maxValue,marginLeft:marginLeft,color:["#84916B","#548235"]})}var forests=initGraphBarh("#forets","Superfice(hectare)","Alitude(m)",["fort","hors-fort"],["1700","1500","1300","1100","900","700","500","300","100"]);var forestsUm=initGraphBarh("#forets_um","Superfice(hectare)","Alitude(m)",["fort","hors-fort"],["1700","1500","1300","1100","900","700","500","300","100"]);var ratioForest=initGraphPyramidh("#ratio_forests","Rpartition(%)","Alitude(m)",["fort (UM)","fort (NUM)"],["1700","1500","1300","1100","900","700","500","300","100"]);$("#shape_select").on("shapeSelected",function(event,data){updateData(data.properties.frequencies)});function updateData(data){function dataFilter(data,field){var precision=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;var result=data.filter(function(d){return d.class_object===field});return result}function classFilter(data,field){var result=data.filter(function(d){return d.class_object===field}).map(function(d){return d.class_name});return result}var land=dataFilter(data,"land_elevation");var landUm=dataFilter(data,"land_um_elevation");var forest=dataFilter(data,"forest_elevation");var forestUm=dataFilter(data,"forest_um_elevation");var ratioForestNUM=dataFilter(data,"ratio_forest_num_elevation");var ratioForestUM=dataFilter(data,"ratio_forest_um_elevation");var forestData=land.map(function(d,i){var result={class_name:d.class_name,data1:forest[i].class_value.toFixed(0),data2:(d.class_value-forest[i].class_value).toFixed(0)};return result});var forestUmData=landUm.map(function(d,i){var result={class_name:d.class_name,data1:forestUm[i].class_value.toFixed(0),data2:(d.class_value-forestUm[i].class_value).toFixed(0)};return result});var ratioForestData=ratioForestNUM.map(function(d,i){var result={class_name:d.class_name,data1:ratioForestUM[i].class_value*100,data2:ratioForestNUM[i].class_value*100};return result});forests.update(forestData.reverse());forestsUm.update(forestUmData.reverse());ratioForest.update(ratioForestData.reverse())}}},{"../d3GraphBarh":3,"../d3GraphPyramidh":6}],13:[function(require,module,exports){"use strict";function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}Object.defineProperty(exports,"__esModule",{value:true});exports.initGraphBarhs=initGraphBarhs;var d3GraphBarh=_interopRequireWildcard(require("../d3GraphBarv"));function _getRequireWildcardCache(){if(typeof WeakMap!=="function")return null;var cache=new WeakMap;_getRequireWildcardCache=function _getRequireWildcardCache(){return cache};return cache}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{default:obj}}var cache=_getRequireWildcardCache();if(cache&&cache.has(obj)){return cache.get(obj)}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj)}return newObj}function initGraphBarhs(data){function initMax(maxValue,initMaxValue){if(maxValue===0){return initMaxValue}else{return maxValue}}function initGraphBarh(id,xLabel,yLabel,value,yDomain){var maxValue=arguments.length>5&&arguments[5]!==undefined?arguments[5]:"";var marginLeft=arguments.length>6&&arguments[6]!==undefined?arguments[6]:.15;var legend=arguments.length>7?arguments[7]:undefined;return new d3GraphBarh.GraphBarh({width:$(id).width(),height:$(id).height(),container:id,title:"",xLabel:xLabel,yLabel:yLabel,value:value,yDomain:yDomain,maxValue:maxValue,marginLeft:marginLeft,color:["#548235","#f5e9d8"]})}var holdridgeForest=initGraphBarh("#holdridge_forest","","",["fort","hors-fort"],[0,100],100);$("#shape_select").on("shapeSelected",function(event,data){updateData(data.properties.frequencies)});function updateData(data){function dataFilter(data,field){var precision=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;var result=data.filter(function(d){return d.class_object===field});return result}function classFilter(data,field){var result=data.filter(function(d){return d.class_object===field}).map(function(d){return d.class_name});return result}var holdridgeforest=dataFilter(data,"holdridge_forest");var holdridgeforestOut=dataFilter(data,"holdridge_forest_out");var holdridgeForestData=holdridgeforestOut.map(function(d,i){var result={class_name:d.class_name,data1:holdridgeforest[i].class_value*100,data2:d.class_value*100};return result});holdridgeForest.update(holdridgeForestData.reverse())}}},{"../d3GraphBarv":4}],14:[function(require,module,exports){"use strict";function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}Object.defineProperty(exports,"__esModule",{value:true});exports.initGraphDonuts=initGraphDonuts;var d3GraphDonut=_interopRequireWildcard(require("../d3Donut"));function _getRequireWildcardCache(){if(typeof WeakMap!=="function")return null;var cache=new WeakMap;_getRequireWildcardCache=function _getRequireWildcardCache(){return cache};return cache}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{default:obj}}var cache=_getRequireWildcardCache();if(cache&&cache.has(obj)){return cache.get(obj)}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj)}return newObj}function initGraphDonuts(data){function initMax(maxValue,initMaxValue){if(maxValue===0){return initMaxValue}else{return maxValue}}var coverForestsType=new d3GraphDonut.GraphDonut({width:$("#cover_forest_type").width(),height:$("#cover_forest_type").height(),container:"#cover_forest_type",value:["fort secondaire","fort mature","fort coeur"],legend:["fort secondaire","fort mature","fort coeur"],color:["#ceec72","#78ac01","#2b8313"]});$("#shape_select").on("shapeSelected",function(event,data){updateData(data.properties.frequencies)});function updateData(data){function dataFilter(data,field){var precision=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;var result=data.filter(function(d){return d.class_object===field});return result}function classFilter(data,field){var result=data.filter(function(d){return d.class_object===field}).map(function(d){return d.class_name});return result}var coverForestTypeData=dataFilter(data,"cover_foresttype");coverForestTypeData=coverForestTypeData.map(function(d,i){var result={label:d.class_name,value:d.class_value};return result});coverForestsType.update(coverForestTypeData.reverse())}}},{"../d3Donut":2}],15:[function(require,module,exports){"use strict";function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}Object.defineProperty(exports,"__esModule",{value:true});exports.initGraphBarvs=initGraphBarvs;var d3GraphBarv=_interopRequireWildcard(require("../d3GraphOneBarv"));function _getRequireWildcardCache(){if(typeof WeakMap!=="function")return null;var cache=new WeakMap;_getRequireWildcardCache=function _getRequireWildcardCache(){return cache};return cache}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{default:obj}}var cache=_getRequireWildcardCache();if(cache&&cache.has(obj)){return cache.get(obj)}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj)}return newObj}function initGraphBarvs(data){function initMax(maxValue,initMaxValue){if(maxValue===0){return initMaxValue}else{return maxValue}}var value=["fort","hors-fort"];var color=["#548235","#f5e9d8"];var coverForests=new d3GraphBarv.GraphOneBarV({width:$("#cover_forest").width(),height:$("#cover_forest").height(),container:"#cover_forest",value:value,legend:value,color:color});var coverForestsUm=new d3GraphBarv.GraphOneBarV({width:$("#cover_forest_um").width(),height:$("#cover_forest_um").height(),container:"#cover_forest_um",value:value,legend:value,color:color});var coverForestsNum=new d3GraphBarv.GraphOneBarV({width:$("#cover_forest_num").width(),height:$("#cover_forest_num").height(),container:"#cover_forest_num",value:value,legend:value,color:color});var coverForestsAdmin=new d3GraphBarv.GraphOneBarV({width:$("#cover_forest_admin").width(),height:$("#cover_forest_admin").height(),container:"#cover_forest_admin",value:["concessions","rserves","forts"],legend:["concessions","rserves","forts"],color:["#990000","#0b6303","#2b8313"],yDomain:[70,100],yTickValue:["70","80","90","100"]});var substrat=new d3GraphBarv.GraphOneBarV({width:$("#substrat").width(),height:$("#substrat").height(),container:"#substrat",value:["NUM","UM"],legend:["Ultramafique (UM)","non Utramafique (NUM)"],color:["#e1a553","#a97742"],typeLegend:2});$("#shape_select").on("shapeSelected",function(event,data){updateData(data.properties.frequencies)});function updateData(data){function dataFilter(data,field){var precision=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;var result=data.filter(function(d){return d.class_object===field});return result}function classFilter(data,field){var result=data.filter(function(d){return d.class_object===field}).map(function(d){return d.class_name});return result}var coverForestData=dataFilter(data,"cover_forest");coverForestData=coverForestData.map(function(d,i){var result={label:d.class_name,value:d.class_value};return result});coverForests.update(coverForestData);var coverForestUmData=dataFilter(data,"cover_forestum");coverForestUmData=coverForestUmData.map(function(d,i){var result={label:d.class_name,value:d.class_value};return result});coverForestsUm.update(coverForestUmData);var coverForestNumData=dataFilter(data,"cover_forestnum");coverForestNumData=coverForestNumData.map(function(d,i){var result={label:d.class_name,value:d.class_value};return result});coverForestsNum.update(coverForestNumData);var coverForestAdminData=dataFilter(data,"cover_forestadmin");coverForestAdminData=coverForestAdminData.map(function(d,i){var result={label:d.class_name,value:d.class_value};return result});coverForestsAdmin.update(coverForestAdminData);var substratData=dataFilter(data,"substrat");substratData=substratData.map(function(d,i){var result={label:d.class_name,value:d.class_value};return result});substrat.update(substratData.reverse())}}},{"../d3GraphOneBarv":5}],16:[function(require,module,exports){"use strict";function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}Object.defineProperty(exports,"__esModule",{value:true});exports.initGraphStakedAreas=initGraphStakedAreas;var d3GraphstakedArea=_interopRequireWildcard(require("../d3GraphStakedArea"));function _getRequireWildcardCache(){if(typeof WeakMap!=="function")return null;var cache=new WeakMap;_getRequireWildcardCache=function _getRequireWildcardCache(){return cache};return cache}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{default:obj}}var cache=_getRequireWildcardCache();if(cache&&cache.has(obj)){return cache.get(obj)}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj)}return newObj}function initGraphStakedAreas(data){function initMax(maxValue,initMaxValue){if(maxValue===0){return initMaxValue}else{return maxValue}}function initGraphStakedArea(id,xLabel,yLabel,value,yDomain){var maxValue=arguments.length>5&&arguments[5]!==undefined?arguments[5]:"";var marginLeft=arguments.length>6&&arguments[6]!==undefined?arguments[6]:.15;var legend=arguments.length>7?arguments[7]:undefined;return new d3GraphstakedArea.GraphStakedArea({width:$(id).width(),height:$(id).height(),container:id,title:"",xLabel:xLabel,yLabel:yLabel,value:value,yDomain:yDomain,maxValue:maxValue,marginLeft:marginLeft,legend:value,color:["#ceec72","#78ac01","#2b8313"]})}var forestTypeElevation=initGraphStakedArea("#forest_type_elevation","Altitude(m)","",["fort secondaire","fort mature","fort coeur"],[0,100],100);$("#shape_select").on("shapeSelected",function(event,data){updateData(data.properties.frequencies)});function updateData(data){function dataFilter(data,field){var precision=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;var result=data.filter(function(d){return d.class_object===field});return result}function classFilter(data,field){var result=data.filter(function(d){return d.class_object===field}).map(function(d){return d.class_name});return result}var forestTypeElevationMature=dataFilter(data,"ratio_forest_mature_elevation");var forestTypeElevationCore=dataFilter(data,"ratio_forest_core_elevation");var forestTypeElevationSecondary=dataFilter(data,"ratio_forest_second_elevation");var forestTypeElevationData=forestTypeElevationMature.map(function(d,i){var result={class_name:d.class_name,data1:forestTypeElevationSecondary[i].class_value*100,data2:d.class_value*100,data3:forestTypeElevationCore[i].class_value*100};return result});forestTypeElevation.update(forestTypeElevationData)}}},{"../d3GraphStakedArea":7}],17:[function(require,module,exports){(function(global){"use strict";function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}var restUrls=_interopRequireWildcard(require("../restUrls"));var preloader=_interopRequireWildcard(require("../preloader"));var d3GraphBarh=_interopRequireWildcard(require("./d3GraphBarhs"));var d3radarChart=_interopRequireWildcard(require("./radarCharts"));var d3GraphOneBarv=_interopRequireWildcard(require("./d3GraphOneBarvs"));var d3GraphBarv=_interopRequireWildcard(require("./d3GraphBarhvs"));var d3GraphDonut=_interopRequireWildcard(require("./d3GraphDonuts"));var d3GraphStakedArea=_interopRequireWildcard(require("./d3GraphStakedAreas"));var d3Gauges=_interopRequireWildcard(require("./d3Gauges"));var d3=_interopRequireWildcard(typeof window!=="undefined"?window["d3"]:typeof global!=="undefined"?global["d3"]:null);function _getRequireWildcardCache(){if(typeof WeakMap!=="function")return null;var cache=new WeakMap;_getRequireWildcardCache=function _getRequireWildcardCache(){return cache};return cache}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{default:obj}}var cache=_getRequireWildcardCache();if(cache&&cache.has(obj)){return cache.get(obj)}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj)}return newObj}var shapeList=restUrls.shapeList;var shapeLocation=restUrls.shapeLocation;var wmsUrlNC="https://carto.gouv.nc/public/services/fond_relief/"+"MapServer/WMSServer";var layerBackground=new ol.layer.Tile({source:new ol.source.TileWMS({url:wmsUrlNC,params:{LAYERS:"0",TILED:true,FORMAT:"image/png"},serverType:"mapserver"})});var features=new ol.Collection;var source=new ol.source.Vector({features:features});var layerShape=new ol.layer.Vector({source:source});var featuresForest=new ol.Collection;var sourceForest=new ol.source.Vector({features:featuresForest});var layerShapeForest=new ol.layer.Vector({source:sourceForest,style:new ol.style.Style({fill:new ol.style.Fill({color:"#548235",opacity:.7}),stroke:new ol.style.Stroke({color:"#548235",width:1})})});var view=new ol.View({projection:"EPSG:4326",center:new ol.proj.transform([165.875,-21.145],"EPSG:4326","EPSG:4326"),zoom:6});var map=new ol.Map({target:"mapCaledonie",view:view});map.addLayer(layerBackground);map.addLayer(layerShape);map.addLayer(layerShapeForest);var wmsUrlProvince="https://carto.gouv.nc/public/services/aires_coutumieres/"+"MapServer/WMSServer";var layerBackgroundProvince=new ol.layer.Tile({source:new ol.source.TileWMS({url:wmsUrlProvince,params:{LAYERS:"0",TILED:true,FORMAT:"image/png"},serverType:"mapserver"})});var featuresProvince=new ol.Collection;var sourceProvince=new ol.source.Vector({features:featuresProvince});var layerShapeProvince=new ol.layer.Vector({source:sourceProvince,style:new ol.style.Style({fill:new ol.style.Fill({color:"#688BA5",opacity:.7}),stroke:new ol.style.Stroke({color:"#688BA5",width:1})})});var viewProvince=new ol.View({projection:"EPSG:4326",center:new ol.proj.transform([164.859,-20.583],"EPSG:4326","EPSG:4326"),zoom:7.4,minZoom:7.4,maxZoom:7.4});var mapProvince=new ol.Map({target:"mapProvince",view:viewProvince,controls:ol.control.defaults({attribution:false,zoom:false})});mapProvince.addLayer(layerBackgroundProvince);mapProvince.addLayer(layerShapeProvince);function buildShapeList(){var shapes={};$.ajax({type:"GET",data:{ordering:"label"},url:shapeList,success:function success(result){shapes=result.reduce(function(map,obj){map[obj.id]=obj;return map},{});var typeShape="";var select=document.getElementById("shape_select");var optgrp=document.createElement("optgroup");for(var idx in shapes){var option=document.createElement("option");if(typeShape!==shapes[idx].type_shape){optgrp=document.createElement("optgroup");typeShape=shapes[idx].type_shape;optgrp.label=typeShape;select.add(optgrp)}option.text=shapes[idx].label;option.value=shapes[idx].id;optgrp.append(option)}$("#shape_select").selectpicker({noneSelectedText:"Selectionnez une emprise"});$("#shape_select").selectpicker("val",null);$("#shape_select").change(function(){preloader.showPreloader();updateData(shapes[this.value])});preloader.hidePreloader()}})}function updateData(shape){$.ajax({type:"GET",url:shapeList+shape.id+"/",success:function success(response){$("#shape_select").trigger("shapeSelected",response);updateGeneralInformations(response);updateLayerShape(response);preloader.hidePreloader()}})}function InitLayerShapeProvince(){$.ajax({type:"GET",url:shapeList+"1/",success:function success(response){sourceProvince.clear();sourceProvince.addFeature((new ol.format.GeoJSON).readFeature(response));var feature=sourceProvince.getFeatures()[0];var polygon=feature.getGeometry();viewProvince.fit(polygon,{padding:[5,5,5,5]})}})}function updateGeneralInformations(data){$("#commune").text(data.properties.label);$("#landArea").text("Surface "+data.properties.land_area+" ha");$("#forestArea").text("Surface de fort "+data.properties.forest_area+" ha");$("#nb_families").text(data.properties.nb_families+" famille"+plurial(data.properties.nb_families));$("#nb_species").text(data.properties.nb_species+" espce"+plurial(data.properties.nb_species));$("#nb_occurence").text(data.properties.nb_occurence+" occurence"+plurial(data.properties.nb_occurence))}function updateLayerShape(data){source.clear();sourceForest.clear();source.addFeature((new ol.format.GeoJSON).readFeature(data));if(data.properties.um_geom!==null){sourceForest.addFeature((new ol.format.GeoJSON).readFeature(data.properties.um_geom))}var feature=source.getFeatures()[0];var polygon=feature.getGeometry();view.fit(polygon,{padding:[5,5,5,5]});sourceProvince.clear();sourceProvince.addFeature((new ol.format.GeoJSON).readFeature(data))}function plurial(data){if(data>1){return"s"}else{return""}}document.addEventListener("DOMContentLoaded",function(){$("#preloader").on("elementLoaded",function(event,data){preloader.hidePreloader()});buildShapeList();d3GraphBarh.initGraphBarhs();d3radarChart.initRadarChart();d3GraphOneBarv.initGraphBarvs();d3GraphBarv.initGraphBarhs();d3GraphDonut.initGraphDonuts();d3GraphStakedArea.initGraphStakedAreas();d3Gauges.initGauges(null)})}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"../preloader":8,"../restUrls":10,"./d3Gauges":11,"./d3GraphBarhs":12,"./d3GraphBarhvs":13,"./d3GraphDonuts":14,"./d3GraphOneBarvs":15,"./d3GraphStakedAreas":16,"./radarCharts":18}],18:[function(require,module,exports){"use strict";function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}Object.defineProperty(exports,"__esModule",{value:true});exports.initRadarChart=initRadarChart;var radarChart=_interopRequireWildcard(require("../radarChart"));function _getRequireWildcardCache(){if(typeof WeakMap!=="function")return null;var cache=new WeakMap;_getRequireWildcardCache=function _getRequireWildcardCache(){return cache};return cache}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{default:obj}}var cache=_getRequireWildcardCache();if(cache&&cache.has(obj)){return cache.get(obj)}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}newObj["default"]=obj;if(cache){cache.set(obj,newObj)}return newObj}var w=210;var h=210;function dataFilter(data,field){var precision=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;var result=data.filter(function(d){return d.class_object===field});return result}function classFilter(data,field){var result=data.filter(function(d){return d.class_object===field}).map(function(d){return d.class_name});return result}function initRadarChart(){var d=[[{axis:"Trs sec",value:0},{axis:"Sec",value:0},{axis:"Humide",value:0},{axis:"Trs humide",value:0},{axis:"Toujours humide",value:0}]];var mycfg={w:w,h:h,maxValue:1,levels:5,ExtraWidthX:150,ExtraWidthY:150,factorLegend:.85};radarChart.RadarChart.draw("#holdridge",d,mycfg)}$("#shape_select").on("shapeSelected",function(event,data){updateData(data.properties.frequencies)});function updateData(data){data=dataFilter(data,"holdridge_land");var holdridgeData=[data.map(function(d){var result={axis:d.class_name,value:d.class_value};return result})];var mycfg={w:w,h:h,maxValue:1,levels:5,ExtraWidthX:150,ExtraWidthY:150,factorLegend:.85};radarChart.RadarChart.draw("#holdridge",holdridgeData,mycfg)}},{"../radarChart":9}]},{},[17]);
